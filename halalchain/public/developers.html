<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Portal - HalalChain</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="main-nav" id="mainNav">
        <div class="nav-brand">
            <a href="/"><img src="/logo.png" alt="HalalChain Logo"></a>
        </div>
        
        <button class="menu-toggle" id="menuToggle">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="nav-links" id="navLinks">
            <a href="/developers.html" class="active"><i class="fas fa-code"></i> Developers</a>
            <a href="/api-docs.html"><i class="fas fa-book"></i> API Docs</a>
            <a href="/smart-contracts.html"><i class="fas fa-file-contract"></i> Contracts</a>
            <a href="/support.html"><i class="fas fa-question-circle"></i> Support</a>
        </div>
        
        <div class="auth-buttons">
            <button id="walletButton" class="wallet-btn"><i class="fas fa-wallet"></i> Connect Wallet</button>
        </div>
    </nav>

    <main class="developer-portal">
        <!-- Developer Dashboard -->
        <section class="dashboard">
            <div class="dashboard-card">
                <h3><i class="fas fa-microchip"></i> API Calls</h3>
                <div class="dashboard-value" id="apiCalls">0</div>
            </div>
            <div class="dashboard-card">
                <h3><i class="fas fa-cube"></i> Contracts Deployed</h3>
                <div class="dashboard-value" id="contractsDeployed">0</div>
            </div>
            <div class="dashboard-card">
                <h3><i class="fas fa-shield-alt"></i> API Limit</h3>
                <div class="dashboard-value" id="apiLimit">5000/day</div>
            </div>
        </section>

        <!-- API Documentation -->
        <section class="api-docs">
            <h2><i class="fas fa-book-open"></i> API Documentation</h2>
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <code>/api/v1/products/{productId}/certification</code>
                </div>
                <div class="endpoint-content">
                    <p>Retrieve blockchain-verified certification data for a product</p>
                    <div class="code-block">
                        <pre><code class="javascript">
async function getCertification(productId) {
    const response = await fetch(
        `https://api.halalchain.com/v1/products/${productId}/certification`
    );
    return await response.json();
}
                        </code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Smart Contract Integration -->
        <section class="contract-integration">
            <h2><i class="fas fa-file-contract"></i> Smart Contract Integration</h2>
            <div class="integration-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <h3>Import ABI</h3>
                    <pre><code class="javascript">
import HalalCertificationABI from './abis/HalalCertification.json';
                    </code></pre>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <h3>Initialize Contract</h3>
                    <pre><code class="javascript">
const contractAddress = '0x...';
const contract = new web3.eth.Contract(
    HalalCertificationABI,
    contractAddress
);
                    </code></pre>
                </div>
            </div>
        </section>

        <!-- SDK Downloads -->
        <section class="sdk-section">
            <h2><i class="fas fa-download"></i> SDK & Tools</h2>
            <div class="sdk-grid">
                <div class="sdk-card">
                    <i class="fab fa-js"></i>
                    <h3>JavaScript SDK</h3>
                    <p>Version 2.1.0</p>
                    <a href="/downloads/halalchain-sdk.js" class="download-btn">
                        <i class="fas fa-download"></i> Download
                    </a>
                </div>
                <div class="sdk-card">
                    <i class="fab fa-python"></i>
                    <h3>Python SDK</h3>
                    <p>Version 1.4.2</p>
                    <a href="/downloads/halalchain-sdk.py" class="download-btn">
                        <i class="fas fa-download"></i> Download
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="halal-footer">
        <!-- Same footer content as previous pages -->
    </footer>

    <!-- Scripts -->
    <script src="/js/main.js"></script>
    <script src="/js/developers.js"></script>
    <script>
        // Web3 initialization for developers
        let web3;
        let contract;

        async function initDeveloperPortal() {
            if (typeof window.ethereum !== 'undefined') {
                web3 = new Web3(window.ethereum);
                try {
                    await window.ethereum.enable();
                    loadDeveloperStats();
                } catch (error) {
                    console.error("User denied account access");
                }
            }
        }

        async function loadDeveloperStats() {
            // Load developer-specific stats from blockchain
            const account = await web3.eth.getAccounts();
            document.getElementById('contractsDeployed').textContent = 
                await getContractsDeployed(account[0]);
        }

        async function getContractsDeployed(address) {
            // Implement blockchain call
            return 3; // Example value
        }

        document.addEventListener('DOMContentLoaded', initDeveloperPortal);
    </script>
</body>
</html>